<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riccardo Sambataro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../src/css/style.css">
    <style>
        /* Custom Cursor Styling */
        html, body { cursor: none !important; }
        * { cursor: none !important; }
        
        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 40px;
            height: 40px;
            pointer-events: none;
            z-index: 9999999;
        }

        .cursor-shape {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.2s ease, transform 0.2s ease;
            transform: scale(0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .cursor-shape.active {
            opacity: 1;
            transform: scale(1);
        }

        #cursor-normal { transform-origin: top left; } 
        #cursor-hover { transform-origin: center; animation: spin 2.5s linear infinite; }
        #cursor-drag { z-index: 9999999 !important; }
        
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Paint Mode Override: always show reticle unless dragging */
        body.paint-mode * { cursor: none !important; }
        body.paint-mode #cursor-normal { opacity: 0 !important; }
        body.paint-mode #cursor-hover { opacity: 1 !important; }
        body.paint-mode #cursor-drag { opacity: 0 !important; }
        
        /* Wipe Overlay */
        #wipe-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 99999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }
        #wipe-overlay.active { opacity: 1; }
        
        /* Paint UI */
        #paint-ui {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10000;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--accent);
            padding: 15px 30px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        #paint-ui.visible {
            opacity: 1;
            pointer-events: auto;
        }
        #paint-ui label {
            color: var(--accent);
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        #paint-ui input[type="color"] {
            width: 50px;
            height: 50px;
            border: 2px solid var(--accent);
            border-radius: 5px;
            cursor: pointer;
            background: transparent;
        }
        #paint-ui input[type="range"] {
            width: 150px;
            cursor: pointer;
        }
        #paint-ui button {
            background: var(--accent);
            color: #000;
            border: none;
            padding: 10px 20px;
            font-weight: 700;
            text-transform: uppercase;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        #paint-ui button:hover {
            background: #fff;
            transform: scale(1.05);
        }
    </style>
</head>
<body>

    <div id="loader">
        <div style="font-size: 1.5rem; letter-spacing: 5px; color: white;">INITIALIZING SYSTEM</div>
        <div class="loader-bar"><div class="loader-progress" id="progress-bar"></div></div>
    </div>

    <!-- Custom Cursor Container -->
    <div id="custom-cursor">
        <!-- Normal State (Sci-Fi Arrow) -->
        <div class="cursor-shape active" id="cursor-normal">
            <svg viewBox="0 0 32 32" width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 2L14 26L18 16L28 12L2 2Z" fill="#00f3ff" stroke="white" stroke-width="1.5"/>
            </svg>
        </div>
        
        <!-- Hover State (Target Reticle) -->
        <div class="cursor-shape" id="cursor-hover">
            <svg viewBox="0 0 40 40" width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="15" stroke="#ff00ff" stroke-width="2" stroke-dasharray="10 5"/>
                <circle cx="20" cy="20" r="4" fill="#ff00ff"/>
                <line x1="20" y1="2" x2="20" y2="8" stroke="#ff00ff" stroke-width="2"/>
                <line x1="20" y1="32" x2="20" y2="38" stroke="#ff00ff" stroke-width="2"/>
                <line x1="2" y1="20" x2="8" y2="20" stroke="#ff00ff" stroke-width="2"/>
                <line x1="32" y1="20" x2="38" y2="20" stroke="#ff00ff" stroke-width="2"/>
            </svg>
        </div>
        
        <!-- Drag/Grabbing State (Mechanical Hand) -->
        <div class="cursor-shape" id="cursor-drag">
            <svg viewBox="0 0 40 40" width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Palm -->
                <rect x="12" y="16" width="16" height="14" rx="2" fill="white" stroke="#00f3ff" stroke-width="2"/>
                <!-- Fingers -->
                <rect x="12" y="6" width="4" height="10" rx="2" fill="#00f3ff"/>
                <rect x="18" y="4" width="4" height="12" rx="2" fill="#00f3ff"/>
                <rect x="24" y="6" width="4" height="10" rx="2" fill="#00f3ff"/>
                <!-- Thumb -->
                <rect x="6" y="20" width="6" height="4" rx="2" fill="#00f3ff"/>
            </svg>
        </div>
    </div>

    <div id="canvas-container"></div>
    
    <div id="wipe-overlay"></div>
    
    <!-- Paint Mode UI -->
    <div id="paint-ui" class="hidden">
        <label for="paint-color">Color:</label>
        <input type="color" id="paint-color" value="#00f3ff">
        
        <label for="paint-strength">Depth:</label>
        <input type="range" id="paint-strength" min="20" max="100" value="50" step="5">
        <span id="paint-strength-value" style="color: var(--accent); font-weight: 700; min-width: 40px;">50</span>
        
        <span id="paint-counter" style="color: var(--accent); font-weight: 700; min-width: 80px;">0 / 0</span>
        
        <button id="paint-close">✕ Exit</button>
    </div>
    
    <div id="link-notification">CLICK GITHUB LOGO</div>

    <div id="ui-layer">
        <!-- Header -->
        <div class="flex justify-between items-start">
            <div>
                <h1 class="text-2xl font-bold tracking-[0.2em] text-white">RICCARDO <span style="color:var(--accent)">SAMBATARO</span></h1>
            </div>
            <div class="flex gap-2">
                <a href="https://github.com/ricky074game" target="_blank" class="interactive text-white hover:text-[var(--accent)] transition-colors text-2xl" title="GitHub"><i class="fa-brands fa-github"></i></a>
                <a href="https://www.linkedin.com/in/riccardo-sambataro-3875892b8/" target="_blank" class="interactive text-white hover:text-[var(--accent)] transition-colors text-2xl" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
            </div>
        </div>

        <!-- Content Panels -->
        <div id="panel-about" class="content-panel">
            <h2>Identity</h2>
            <p>Full Stack Developer & Game Architect from Italy. I build immersive digital experiences across multiple platforms and technologies.</p>
            <div class="mt-4 flex flex-wrap gap-2">
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">JAVA</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">FLUTTER</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">RUST</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">C#/.NET</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">PHASER3</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">NODE.JS</span>
                <span class="px-2 py-1 bg-white/10 text-xs rounded border border-white/10">THREE.JS</span>
            </div>
        </div>

        <div id="panel-projects" class="content-panel">
            <h2>Timeline</h2>
            <div class="relative">
                <div id="projects-carousel" class="space-y-4" style="min-height: 400px;">
                    <!-- Middle School -->
                    <div class="timeline-item" data-project="0" onclick="window.open('https://github.com/Tuvalu23/College-Admissions-Simulator', '_blank')" style="border-left: 3px solid #00bfff; padding-left: 16px; cursor: pointer;">
                        <div class="text-xs font-semibold text-[#00bfff] mb-1">MIDDLE SCHOOL</div>
                        <h3 class="font-semibold text-lg">College Admissions Simulator</h3>
                        <span class="text-xs text-gray-400">Java</span>
                        <p class="text-xs text-gray-400 mt-2">Simulates the NY college application process for Stuyvesant students. Calculates weighted GPA, demographic scores, and admission probabilities. Supports Early Decision (ED), Restrictive Early Action (REA), and Early Action (EA) applications with real acceptance rates.</p>
                    </div>

                    <!-- High School -->
                    <div class="timeline-item" data-project="1" onclick="window.open('https://github.com/ricky074game/NHSLocation', '_blank')" style="border-left: 3px solid #00ffaa; padding-left: 16px; cursor: pointer; display:none;">
                        <div class="text-xs font-semibold text-[#00ffaa] mb-1">HIGH SCHOOL</div>
                        <h3 class="font-semibold text-lg">NHS Location</h3>
                        <span class="text-xs text-gray-400">Dart + JavaScript + Firebase</span>
                        <p class="text-xs text-gray-400 mt-2">Cross-platform sign-in application for NHS members featuring location-based tracking with geospatial analysis. Built with Flutter for mobile and Firebase Firestore for real-time data synchronization and authentication management.</p>
                    </div>

                    <!-- College Year 1 -->
                    <div class="timeline-item" data-project="2" onclick="window.open('https://github.com/ricky074game/cometOffline', '_blank')" style="border-left: 3px solid #ff6b9d; padding-left: 16px; cursor: pointer; display:none;">
                        <div class="text-xs font-semibold text-[#ff6b9d] mb-1">COLLEGE</div>
                        <h3 class="font-semibold text-lg">CometOffline</h3>
                        <span class="text-xs text-gray-400">Rust</span>
                        <p class="text-xs text-gray-400 mt-2">Open-source GOG Galaxy Communication Service implementation in Rust. Enables offline game functionality, achievement tracking, and leaderboard management. Works seamlessly with Heroic, Lutris, and other game launchers on Linux/Steam Deck.</p>
                    </div>

                    <!-- College Year 2 -->
                    <div class="timeline-item" data-project="3" onclick="window.open('https://github.com/ricky074game/RevoltUltimate', '_blank')" style="border-left: 3px solid #ffd700; padding-left: 16px; cursor: pointer; display:none;">
                        <div class="text-xs font-semibold text-[#ffd700] mb-1">COLLEGE</div>
                        <h3 class="font-semibold text-lg">Revolt Ultimate</h3>
                        <span class="text-xs text-gray-400">C#</span>
                        <p class="text-xs text-gray-400 mt-2">Unified achievement tracking platform for 9+ gaming services (Steam, GOG, Xbox, Epic, EA, RetroAchievements). Real-time notifications with customizable visual designs and a progression system with leveling mechanics. Supports both legitimate and offline game monitoring.</p>
                    </div>

                    <!-- College Year 3 -->
                    <div class="timeline-item" data-project="4" onclick="window.open('https://github.com/ricky074game/Kawairun2-Server', '_blank')" style="border-left: 3px solid #ff1493; padding-left: 16px; cursor: pointer; display:none;">
                        <div class="text-xs font-semibold text-[#ff1493] mb-1">COLLEGE</div>
                        <h3 class="font-semibold text-lg">Kawairun2 Server</h3>
                        <span class="text-xs text-gray-400">C# + Java + Node.js</span>
                        <p class="text-xs text-gray-400 mt-2">Full-stack reimplementation of Kawairun 2 multiplayer Flash game. Features .NET launcher, Java/SmartFoxServer backend for multiplayer, Node.js web server, MySQL persistence, and live deployment at kawairun2.puzzlebest.tech.</p>
                    </div>

                    <!-- Hackathon -->
                    <div class="timeline-item" data-project="5" onclick="window.open('https://github.com/ModeSpace/Winter25-Hackathon', '_blank')" style="border-left: 3px solid #00ffff; padding-left: 16px; cursor: pointer; display:none;">
                        <div class="text-xs font-semibold text-[#00ffff] mb-1">HACKATHON</div>
                        <h3 class="font-semibold text-lg">Snowball Thrower</h3>
                        <span class="text-xs text-gray-400">JavaScript + Phaser3 + MediaPipe</span>
                        <p class="text-xs text-gray-400 mt-2">Multiplayer snowball throwing game built with Phaser3 physics engine. Features optional hand-tracking via MediaPipe for gesture recognition, directional sprite animations, AI opponent, networked multiplayer, and dynamic difficulty mechanics.</p>
                    </div>
                </div>

                <!-- Navigation Arrows -->
                <div class="flex justify-between mt-6">
                    <button id="projects-prev" class="px-3 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded transition" onclick="window.navigateProjects(-1)">← Prev</button>
                    <span id="projects-counter" class="text-xs text-gray-400 self-center">1 / 6</span>
                    <button id="projects-next" class="px-3 py-2 bg-white/10 hover:bg-white/20 border border-white/20 text-white rounded transition" onclick="window.navigateProjects(1)">Next →</button>
                </div>
            </div>
        </div>

        <div id="panel-contact" class="content-panel">
            <h2>Connect</h2>
            <form id="contact-form" class="space-y-4">
                <div>
                    <label for="name" class="block text-sm font-semibold mb-2 text-white">Name</label>
                    <input type="text" id="name" name="name" required class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:outline-none focus:border-[var(--accent)]" placeholder="Your name">
                </div>
                <div>
                    <label for="email" class="block text-sm font-semibold mb-2 text-white">Email</label>
                    <input type="email" id="email" name="email" required class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:outline-none focus:border-[var(--accent)]" placeholder="your@email.com">
                </div>
                <div>
                    <label for="message" class="block text-sm font-semibold mb-2 text-white">Message</label>
                    <textarea id="message" name="message" required rows="4" class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded text-white placeholder-white/50 focus:outline-none focus:border-[var(--accent)] resize-none" placeholder="Your message..."></textarea>
                </div>
                <button type="submit" class="w-full px-4 py-2 bg-[var(--accent)] text-black font-semibold rounded hover:bg-[#00d4ff] transition-colors">Send Message</button>
                <div id="form-status" class="text-sm text-[var(--accent)] hidden"></div>
            </form>
        </div>

        <!-- Navigation Bottom -->
        <div class="flex flex-col items-center">
            <nav class="flex mb-8 interactive pointer-events-auto">
                <button class="nav-btn active" onclick="changeState('home')">HOME</button>
                <button class="nav-btn" onclick="changeState('about')">ABOUT</button>
                <button class="nav-btn" onclick="changeState('projects')">PROJECTS</button>
                <button class="nav-btn" onclick="changeState('contact')">CONTACT</button>
            </nav>
        </div>
    </div>

    <script type="module" src="../src/js/main.js"></script>
    
    <!-- Custom Cursor Handler -->
    <script>
        const cursor = document.getElementById('custom-cursor');
        const normalCursor = document.getElementById('cursor-normal');
        const hoverCursor = document.getElementById('cursor-hover');
        const dragCursor = document.getElementById('cursor-drag');

        document.addEventListener('mousemove', (e) => {
            cursor.style.left = (e.clientX - 20) + 'px';
            cursor.style.top = (e.clientY - 20) + 'px';
        });

        // Paint mode: allow right-click drag for camera rotation
        // Track if we're dragging with right mouse button
        let isRightDragging = false;

        // Only show drag cursor when clicking on canvas/particles, not on links
        const canvasContainer = document.getElementById('canvas-container');
        if (canvasContainer) {
            // Track if we're actively dragging on canvas
            let isDraggingOnCanvas = false;
            
            canvasContainer.addEventListener('mousedown', (e) => {
                // In paint mode, right-click = drag camera
                const isPaintMode = document.body.classList.contains('paint-mode');
                
                if (e.button === 0 && !isPaintMode) { // Left click (normal mode)
                    isDraggingOnCanvas = true;
                    normalCursor.classList.remove('active');
                    dragCursor.classList.add('active');
                    hoverCursor.classList.remove('active');
                    cursor.style.opacity = '1';
                } else if (e.button === 2 && isPaintMode) { // Right click (paint mode)
                    isRightDragging = true;
                    hoverCursor.classList.remove('active');
                    dragCursor.classList.add('active');
                    cursor.style.opacity = '1';
                }
            });

            canvasContainer.addEventListener('mouseup', (e) => {
                if (e.button === 0) {
                    isDraggingOnCanvas = false;
                    dragCursor.classList.remove('active');
                    normalCursor.classList.add('active');
                    cursor.style.opacity = '1';
                } else if (e.button === 2) {
                    isRightDragging = false;
                    dragCursor.classList.remove('active');
                    hoverCursor.classList.add('active');
                    cursor.style.opacity = '1';
                }
            });

            canvasContainer.addEventListener('mouseleave', () => {
                if (isDraggingOnCanvas) {
                    isDraggingOnCanvas = false;
                    dragCursor.classList.remove('active');
                    normalCursor.classList.add('active');
                    cursor.style.opacity = '1';
                }
                if (isRightDragging) {
                    isRightDragging = false;
                    dragCursor.classList.remove('active');
                    hoverCursor.classList.add('active');
                    cursor.style.opacity = '1';
                }
            });
            
            // Prevent context menu on right click in paint mode
            canvasContainer.addEventListener('contextmenu', (e) => {
                if (document.body.classList.contains('paint-mode')) {
                    e.preventDefault();
                }
            });
        }

        // Add hover effects to interactive elements - only show hover reticle, not drag hand
        const interactiveElements = document.querySelectorAll('button, a, .interactive, [onclick]');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', (e) => {
                // Prevent any default cursor behavior
                e.target.style.cursor = 'none';
                normalCursor.classList.remove('active');
                hoverCursor.classList.add('active');
                cursor.style.opacity = '1';
            });
            el.addEventListener('mouseleave', (e) => {
                e.target.style.cursor = 'none';
                hoverCursor.classList.remove('active');
                normalCursor.classList.add('active');
                cursor.style.opacity = '1';
            });
        });

        // Continuously ensure cursor: none on all interactive elements
        setInterval(() => {
            interactiveElements.forEach(el => {
                el.style.cursor = 'none';
            });
        }, 100);

        // Hide cursor over icon elements
        document.querySelectorAll('i.fa-brands, i.fa-solid, svg').forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.opacity = '0';
            });
            el.addEventListener('mouseleave', () => {
                cursor.style.opacity = '1';
            });
        });

    </script>
</body>
</html>
